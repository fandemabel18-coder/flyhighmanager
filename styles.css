/* === Variables === */
:root {
  --bg: #0f172a;
  --card: #1e293b;
  --border: #334155;
  --text: #f1f5f9;
  --muted: #94a3b8;
  --accent: #3b82f6;
  --accent-hover: #2563eb;
}

/* === Reset básico === */
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
}

h1, h2, h3 {
  margin: 0 0 .5em;
}

button {
  background: var(--accent);
  border: none;
  color: white;
  padding: .5em 1em;
  border-radius: 8px;
  cursor: pointer;
}
button:hover {
  background: var(--accent-hover);
}

input, select {
  padding: .4em;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--card);
  color: var(--text);
}

/* === Layout principal === */
.container {
  display: flex;
  gap: 16px;
  padding: 16px;
}

.sidebar {
  flex: 0 0 240px;
}

.main {
  flex: 1;
}

/* === Tarjetas === */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
}

.compact-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 12px;
}

/* === Chips / etiquetas === */
.chips {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}

.chip {
  background: var(--border);
  border-radius: 6px;
  padding: 2px 6px;
  font-size: .8rem;
}

.stat-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-top: 4px;
}

.stat-chip {
  background: var(--border);
  border-radius: 6px;
  padding: 2px 6px;
  font-size: .8rem;
}

/* === Rarezas === */
.char-badge {
  padding: 2px 6px;
  border-radius: 6px;
  font-size: .8rem;
  font-weight: bold;
}
.rarity-ur { background: #fbbf24; color: #000; }
.rarity-ssr { background: #ec4899; }
.rarity-sr { background: #3b82f6; }
.rarity-r { background: #22c55e; }

/* === Personajes: lista y modal === */
.char-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  cursor: pointer;
  margin-bottom: 10px;
}
.char-card:hover {
  border-color: var(--accent);
}

/* listas con iconos en el modal */
#char-modal .panel ul { 
  list-style: none; 
  padding-left: 0; 
  margin: 0; 
}
#char-modal .panel li img { 
  border-radius: 8px; 
  border: 1px solid #1f2a40; 
}
#character-detail {
  background: var(--bg);
  padding: 20px;
  border-radius: 16px;
  max-width: 800px;
  margin: auto;
}

/* === Tabs (para modal) === */
.tabs-nav {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}
.tab-btn {
  background: var(--card);
  border: 1px solid var(--border);
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
}
.tab-btn.active {
  background: var(--accent);
  color: white;
}
.tab {
  display: none;
}
.tab.active {
  display: block;
}

/* === Potenciales === */
.set-line {
  display: flex;
  gap: 8px;
  align-items: flex-start;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px;
  margin-bottom: 10px;
}
.pieces-badge {
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 2px 6px;
  font-size: 12px;
  color: var(--muted);
}
.set-name {
  font-weight: 600;
}
.warn {
  color: #fbbf24;
}

/* === Recuerdos === */
.mem-avatar img {
  width: 56px;
  height: 56px;
  object-fit: cover;
  border-radius: 10px;
  border: 1px solid var(--border);
}
.kv-grid {
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 6px 12px;
}

/* === Tablas Tierlist === */
.tier-table {
  width: 100%;
  border-collapse: collapse;
}
.tier-table th,
.tier-table td {
  border: 1px solid var(--border);
  padding: 6px;
}
.tier-row:nth-child(odd) {
  background: rgba(255,255,255,.02);
}

/* === Home banners / calendario === */
.home-banner {
  display: flex;
  gap: 10px;
  margin-bottom: 12px;
}
.home-banner img {
  width: 120px;
  border-radius: 12px;
  border: 1px solid var(--border);
}
.banner-meta {
  font-size: .8rem;
  color: var(--muted);
}
.banner-img {
  width: 100%;
  border-radius: 12px;
  margin: 8px 0;
}
/* ===== Próximos SSR/UR — tiles anchos ===== */
#home-banners { margin: 0; padding: 0; list-style: none; }

/* Contenedor: dos columnas (UR | SSR) */
#home-banners.banners-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* ← fuerza la fila de dos tiles */
  gap: 20px;                              /* separacion entre UR y SSR */
}

/* Cada tile */
.banner-tile {
  display: grid;
  grid-template-columns: 280px 1fr;       /* imagen | texto */
  gap: 16px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  min-height: 190px;                      /* alto para que “llene” visualmente */
}

/* Imagen */
.banner-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Texto */
.banner-body {
  display: flex;
  flex-direction: column;
  justify-content: center;                /* centra verticalmente el bloque de texto */
  gap: 6px;
  padding: 10px 12px 10px 0;
}

/* Cabecera del tile: título grande + pill */
.tile-head {
  display: flex;
  align-items: center;
  gap: 10px;
}
.tile-head b {
  font-size: 1.6rem;                      /* título grande como tu mock */
  line-height: 1.2;
}
.pill {
  background: var(--border);
  color: var(--text);
  padding: 2px 8px;
  border-radius: 999px;
  font-size: .8rem;
}

.banner-meta { font-size: 1rem; color: var(--muted); }

/* Responsive */
@media (max-width: 1100px) {
  #home-banners.banners-grid { grid-template-columns: 1fr; }
  .banner-tile { grid-template-columns: 220px 1fr; }
}
@media (max-width: 640px) {
  .banner-tile { grid-template-columns: 1fr; }
  .banner-thumb img { aspect-ratio: 16/9; height: auto; }
  .tile-head b { font-size: 1.25rem; }
}
/* === Videos recomendados (grid responsivo y centrado) === */
.video-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* dos columnas en desktop */
  gap: 20px;
  justify-items: center;   /* centra horizontalmente cada tarjeta */
  align-items: start;
}

.video-card {
  width: 100%;
  max-width: 520px;        /* limita el ancho y hace que se vean centrados */
}

/* El iframe se adapta al ancho y conserva 16:9 */
.video-embed iframe {
  width: 100%;
  aspect-ratio: 16 / 9;
  height: auto;
  border-radius: 12px;
  border: 1px solid var(--border);
}

/* Caja con metadatos del video (para patrocinios) */
.video-meta {
  margin-top: 8px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 10px;
  font-size: 0.95rem;
  color: var(--muted);
}
.video-meta b {
  color: var(--text);
}

/* Responsive: en móvil se apilan y siguen centrados */
@media (max-width: 1000px) {
  .video-grid { grid-template-columns: 1fr; }
  .video-card { max-width: 640px; }
}
.welcome p { margin: 6px 0; }
.brand { color: var(--accent); font-weight: 600; }

/* Grid de tarjetas (aplicado al contenedor real de cartas) */
#characters-list{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 18px;
}

/* Tarjeta */
.char-tile{
  background: #0f172a;
  border: 1px solid #1f2a40;
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,.15);
  cursor: pointer;
  overflow: hidden;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  outline: none;
}
.char-tile:hover,
.char-tile:focus{
  transform: translateY(-2px);
  box-shadow: 0 10px 28px rgba(0,0,0,.22);
  border-color: #334155;
}

/* Mini cabecera con imagen */
.char-tile .tile-thumb{
  position: relative;
  aspect-ratio: 3 / 4;           /* recorte vertical tipo carta */
  background: #0b1220;
}
.char-tile .tile-thumb img{
  width: 100%; height: 100%; object-fit: cover; display: block;
}
.char-tile .char-badge{
  position: absolute; top: 10px; right: 10px;
  padding: 2px 8px; border-radius: 9px; font-size: 12px;
  border: 1px solid #475569; background:#1f2937; color:#e5e7eb;
}
.char-tile .char-badge.ur{ background:#3b0764; color:#f0abfc; border-color:#9333ea; }
.char-tile .char-badge.ssr{ background:#0f766e; color:#99f6e4; border-color:#14b8a6; }
.char-tile .char-badge.sr{ background:#1e3a8a; color:#93c5fd; border-color:#3b82f6; }

/* Cuerpo */
.char-tile .tile-body{ padding: 10px 12px 12px; }
.char-tile .tile-name{ margin:0 0 4px; font-size: 16px; line-height: 1.1; }
.char-tile .tile-meta{ color:#9fb0c3; font-size: 12px; }

/* === Contacto (formulario) === */
#tab-contact form {
  display: flex;
  flex-direction: column;
  gap: 14px;
  margin-top: 14px;
}

#tab-contact label {
  display: flex;
  flex-direction: column;
  font-size: 0.95rem;
  color: var(--text);
  gap: 6px;
}

#tab-contact input,
#tab-contact textarea {
  padding: 10px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--card);
  color: var(--text);
  font-size: 1rem;
}

#tab-contact textarea {
  resize: vertical;
}

#tab-contact .grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

#tab-contact .btn-primary {
  background: var(--accent);
  border: none;
  color: white;
  font-weight: 600;
  padding: 0.7em 1.2em;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.2s ease;
}

#tab-contact .btn-primary:hover {
  background: var(--accent-hover);
}

/* Responsive: apila los campos en móvil */
@media (max-width: 640px) {
  #tab-contact .grid-2 {
    grid-template-columns: 1fr;
  }
}

/* === Legal (política y descargo) === */
#tab-legal h2 {
  margin-bottom: 10px;
  color: var(--accent);
}

#tab-legal p {
  margin: 0.5em 0;
  line-height: 1.6;
}

#tab-legal ul {
  padding-left: 20px;
  margin: 0.5em 0 1em 0;
  list-style: disc;
}

#tab-legal li {
  margin-bottom: 6px;
  line-height: 1.5;
}

/* === Calculadora === */
#tab-calc .calc-grid{
  display:grid;gap:14px;grid-template-columns:1.1fr 0.9fr
}
#tab-calc .calc-col label{display:flex;flex-direction:column;gap:6px;margin-bottom:10px}
#tab-calc input,#tab-calc select{
  padding:10px;border:1px solid var(--border);border-radius:8px;background:var(--card);color:var(--text)
}
#tab-calc .calc-row-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
#tab-calc .calc-row-3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:6px}
#tab-calc .calc-fieldset{border:1px solid var(--border);border-radius:10px;padding:10px;margin-top:4px}
#tab-calc .calc-fieldset legend{padding:0 6px;color:#9fb0c3}
#tab-calc .chk{display:flex;align-items:center;gap:8px}
#tab-calc .calc-results h3{margin-top:0}
@media (max-width: 820px){
  #tab-calc .calc-grid{grid-template-columns:1fr}
  #tab-calc .calc-row-2,#tab-calc .calc-row-3{grid-template-columns:1fr}
}
/* --- Team Builder --- */
.tb-screen{padding:16px 12px 28px}
.tb-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.tb-actions{display:flex;gap:8px;flex-wrap:wrap}
.tb-btn{background:#1f3c52;border:1px solid #2c4e69;color:#cfe9f8;padding:8px 12px;border-radius:10px;cursor:pointer}
.tb-btn:disabled{opacity:.6;cursor:not-allowed}
.tb-primary{background:#31c48d;border-color:#27a276;color:#052014}
.tb-layout{display:grid;grid-template-columns:350px minmax(0,1fr) 350px;gap:12px}
.tb-side{display:flex;flex-direction:column;gap:12px}

.tb-card{background:#0f2a3a;border:1px solid #1f3c52;border-radius:12px;padding:12px;color:#dbeafe}
.tb-card.small{font-size:.92rem}
.tb-field-wrap{display:flex;flex-direction:column;gap:12px}
.tb-field{position:relative;min-height:520px;background:#d9792d;border:1px solid #f0c090;border-radius:16px;padding:14px;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:14px}
.tb-slot{border:2px dashed #f6d4b0;background:linear-gradient(#0000,#0002);border-radius:14px;display:flex;align-items:center;justify-content:center;position:relative}
.tb-slot .slot-label{position:absolute;top:6px;left:8px;background:#0007;color:#fff;font-size:.8rem;padding:2px 6px;border-radius:8px}
.tb-slot.filled{border-style:solid;border-color:#f0c090}
.tb-bench-wrap{background:#0f2a3a;border:1px solid #1f3c52;border-radius:12px;padding:10px}
.tb-bench-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.tb-bench{display:flex;gap:8px;flex-wrap:wrap;min-height:100px}
.tb-card-item{width:86px;height:124px;border-radius:10px;border:1px solid #2c4e69;background:#112b3b;position:relative;overflow:hidden;cursor:grab}
.tb-card-item img{width:100%;height:100%;object-fit:cover;display:block}
.tb-badge{position:absolute;inset:auto 6px 6px auto;padding:2px 6px;border-radius:8px;background:#1f3c52;border:1px solid #2c4e69;color:#9bd7f7;font-size:.72rem}
.tb-pos-tag{position:absolute;top:6px;left:6px;background:#0008;color:#fff;padding:2px 6px;border-radius:8px;font-size:.72rem}
.tb-list{display:flex;flex-direction:column;gap:12px}
.tb-list .section{border:1px solid #1f3c52;border-radius:12px;overflow:hidden}
.tb-list .section h4{margin:0;padding:8px 10px;background:#143247;border-bottom:1px solid #1f3c52}
.tb-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;padding:10px}
.droptarget{outline:none}
.tb-toast{position:fixed;bottom:18px;left:50%;transform:translateX(-50%);background:#111827;color:#fff;padding:10px 14px;border-radius:10px;border:1px solid #374151;z-index:9999}

/* Responsive */
@media (max-width: 1024px){
  .tb-layout{grid-template-columns:1fr}
  .tb-right{order:3}
  .tb-side{order:2}
}
/* Acordeón */
.tb-acc { border:1px solid #193346; border-radius:10px; background:#0d2030; }
.tb-acc + .tb-acc { margin-top:10px; }
.tb-acc-hd { display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px 12px; cursor:pointer; border-radius:10px; }
.tb-acc-hd:hover { background:#0f2a3f; }
.tb-acc-ttl { font-weight:700; }
.tb-acc-rt { display:flex; align-items:center; gap:8px; }
.tb-acc-body { padding:10px 12px 12px; border-top:1px dashed #24455c; }
.tb-acc .chev { transition: transform .18s ease; opacity:.9; }
.tb-acc.expanded .chev { transform: rotate(90deg); }

/* ====== Tier List Editable ====== */
.tl-topbar{
  position: sticky; top: 0; z-index: 5;
  background: var(--bg-900, #0b1220);
  border: 1px solid #1c2a3a; border-radius: 12px;
  padding: 10px 12px; margin-bottom: 12px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.tl-topbar .btn{ margin-right:6px }

.tl-wrap{ display:grid; grid-template-columns: 35% 65%; gap: 16px; }
@media (max-width: 1279px){
  .tl-wrap{ grid-template-columns: 40% 60%; }
}
@media (max-width: 1023px){
  .tl-wrap{ grid-template-columns: 1fr; }
}

.tl-left{
  border:1px solid #1c2a3a; border-radius:12px; padding:10px;
  background:#0c1a2a; max-height: calc(100vh - 220px); overflow:auto;
}
.tl-right{
  border:1px solid #1c2a3a; border-radius:12px; padding:10px;
  background: linear-gradient(180deg, #152236, #0c1322);
}

/* Acordeón del pool */
.tl-acc{ border:1px solid #1b3448; border-radius:10px; background:#0d2030; margin-bottom:10px; }
.tl-acc-hd{ padding:10px 12px; font-weight:700; cursor:pointer; display:flex; justify-content:space-between; align-items:center; }
.tl-acc-body{ display:none; padding:8px 10px 12px; border-top:1px dashed #24455c; }
.tl-acc.expanded .tl-acc-body{ display:block; }
.tl-acc .chev{ transition: transform .18s ease; opacity:.8; }
.tl-acc.expanded .chev{ transform: rotate(90deg); }

.tl-subacc{ margin-bottom:10px; }
.tl-subacc-hd{ font-size:12px; color:#93a4b8; margin-bottom:6px; }
.tl-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(84px, 1fr)); gap:8px; }

.tl-card{
  border:1px solid #2a3e55; border-radius:8px; overflow:hidden; background:#0e1624;
}
.tl-card img{ width:100%; display:block; aspect-ratio: 3/4; object-fit:cover; }

/* Filas editables */
.tl-row{
  border:1px solid #243349; border-radius:10px; margin-bottom:12px; overflow:hidden;
  background:#0c1626;
}
.tl-row-head{
  display:flex; align-items:center; gap:10px; padding:8px 10px; font-weight:700;
  background:#1b2a3e; color:#e5e7eb;
}
.tl-row-head input.tl-row-name{
  background:transparent; border:none; color:inherit; font:inherit; width:160px;
  outline:none;
}
.tl-row-color{ width:18px; height:18px; border-radius:50%; border:1px solid #334155; cursor:pointer; }
.tl-row-actions{ margin-left:auto; display:flex; gap:6px; }

.tl-row-drop{
  display:flex; flex-wrap: wrap; gap:8px; min-height:96px; padding:10px;
  background:#0f1a2b;
}
.tl-row-drop .tl-card{ width:84px; }

/* ====== Comparador de Personajes ====== */
.characters-layout {
  display: grid;
  grid-template-columns: 2fr 1fr; /* izquierda 50%, derecha 50% */
  gap: 1rem;
}

.characters-list {
  min-width: 0; /* evita overflow */
}

.compare-panel {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 1rem;
  color: #f8fafc;
  position: sticky;
  top: 1rem; /* para que quede fijo al hacer scroll */
  max-height: calc(100vh - 2rem);
  overflow-y: auto;
}

.compare-panel h2 {
  margin-bottom: 0.5rem;
  font-size: 1.2rem;
  font-weight: bold;
  text-align: center;
}

/* Dos columnas: A | B (responsive) */
.compare-selectors{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 1rem;
}

.compare-slot {
  background: #0f172a;
  border: 1px dashed #475569;
  border-radius: 6px;
  padding: 0.75rem;
  text-align: center;
  font-size: 0.9rem;
  color: #94a3b8;
}

.compare-table table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1rem;
}

.compare-table th,
.compare-table td {
  border: 1px solid #475569;
  padding: 0.4rem;
  text-align: center;
  font-size: 0.85rem;
}

.compare-table th {
  background: #0f172a;
  font-weight: bold;
}

.compare-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  justify-content: space-between;
}

.compare-actions button {
  flex: 1;
  background: #334155;
  border: none;
  border-radius: 6px;
  padding: 0.5rem;
  color: #f8fafc;
  cursor: pointer;
  transition: background 0.2s;
}

.compare-actions button:hover {
  background: #475569;
}

/* Responsive para móvil */
@media (max-width: 1024px) {
  .characters-layout {
    grid-template-columns: 1fr; /* solo 1 columna */
  }
  .compare-panel {
    position: relative;
    max-height: unset;
  }
}
/* Recuerdos (modal) */
.memory-card {
  display: flex;
  gap: .75rem;
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: .75rem;
  margin-bottom: .75rem;
}
.memory-card img {
  width: 64px; height: 64px; object-fit: cover;
  border-radius: 8px; border: 1px solid #334155;
}
/* La card debe poder contener elementos posicionados */
.char-tile {
  position: relative;
  overflow: hidden; /* para que el overlay no desborde */
}

/* Overlay oscuro + botones centrados */
.card-action-pop {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
}

.card-action-pop::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, .45);
}

/* Botón X arriba a la izquierda */
.card-action-pop .cap-close {
  position: absolute;
  top: 8px;
  left: 8px;
  width: 30px;
  height: 30px;
  border-radius: 6px;
  border: 1px solid #475569;
  background: #0f172a;
  color: #e2e8f0;
  font-weight: 700;
  line-height: 1;
  cursor: pointer;
  z-index: 1;
}

/* Contenedor de botones */
.card-action-pop .cap-content {
  position: relative;
  z-index: 1;
  display: flex;
  gap: .5rem;
}

/* Botones */
.card-action-pop .cap-btn {
  padding: .55rem .8rem;
  border-radius: 10px;
  border: 1px solid #0b1220;
  background: rgba(15, 23, 42, .9);
  color: #f8fafc;
  font-weight: 700;
  letter-spacing: .5px;
  cursor: pointer;
  box-shadow: 0 3px 12px rgba(0,0,0,.25);
  transition: transform .08s ease, filter .15s ease;
}

.card-action-pop .cap-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }

.card-action-pop .cap-btn.cap-primary {
  background: #111827;
  border-color: #f59e0b;
  box-shadow: 0 0 0 1px #f59e0b inset, 0 4px 16px rgba(245,158,11,.25);
}
/* ===== Forzar layout 50/50 en Personajes ===== */
.characters-layout{
  display:grid;
  grid-template-columns: minmax(0,1fr) minmax(0,1fr); /* 50% / 50% */
  gap:24px;
  align-items:start;
}

/* Asegurar que ambas columnas puedan encoger/crecer sin desbordar */
.characters-layout > .characters-list{ min-width:0; }
.characters-layout > .compare-panel{ min-width:0; }

/* Si tu comparador tiene un .panel interno con ancho fijo, lo anulamos */
.compare-panel .panel{
  width:100% !important;
  max-width:none !important;
}

/* Que el comparador se "pegue" al hacer scroll (ajusta el top a tu navbar) */
.compare-panel{
  position:sticky;
  top:90px;
}

/* Asegurar que la columna izquierda NO sea grid;
   el grid de cartas vive en #characters-list */
.characters-list.characters-grid{
  display: block;
}

/* En pantallas medianas, apilar (primero cartas, luego comparador) */
@media (max-width: 1200px){
  .characters-layout{ grid-template-columns:1fr; }
  .compare-panel{ position:static; }
}
/* ===== Overrides layout personajes/comparador ===== */
.characters-layout{
  display: grid;
  grid-template-columns: minmax(0,1fr) minmax(0,1fr); /* 50% / 50% */
  gap: 24px;
  align-items: start;
}
.characters-layout > .characters-list,
.characters-layout > .compare-panel{ min-width: 0; }

/* En pantallas medianas/móviles, apilar */
@media (max-width: 1200px){
  .characters-layout{ grid-template-columns: 1fr; }
  .compare-panel{ position: static; max-height: none; }
}
/* Filtros en una sola fila con wrap limpio */
.characters-list .filters{
  display: grid;
  grid-template-columns: 1fr auto auto auto; /* buscador + 3 selects */
  gap: 8px;
  margin-bottom: 12px;
}
@media (max-width: 900px){
  .characters-list .filters{
    grid-template-columns: 1fr 1fr; /* 2 columnas en tablet */
  }
}
@media (max-width: 560px){
  .characters-list .filters{
    grid-template-columns: 1fr;     /* apilado en móvil */
  }
}
/* Tabla de stats en modal de personaje */
.char-stats-table {
  width: 100%;
  border-collapse: collapse;
  margin: .5rem 0 1rem;
  font-size: .95rem;
}
.char-stats-table th,
.char-stats-table td {
  border: 1px solid #334155;
  padding: .4rem .6rem;
}
.char-stats-table thead th {
  background: #0f172a;
  text-align: left;
}
.char-stats-table td.num {
  text-align: right;
  font-variant-numeric: tabular-nums;
}
/* Diferencias en comparador */
.compare-table td.num { font-variant-numeric: tabular-nums; }
.compare-table td.diff-pos { color: #16a34a; font-weight: 600; } /* verde */
.compare-table td.diff-neg { color: #dc2626; font-weight: 600; } /* rojo */
.compare-table td.diff-zero { color: #94a3b8; }                  /* gris */

/* Comparador: ganador/perdedor/empate */
.compare-table td.num { font-variant-numeric: tabular-nums; }
.compare-table td.win  { color:#16a34a; font-weight:600; } /* verde */
.compare-table td.lose { color:#dc2626; font-weight:600; } /* rojo */
.compare-table td.tie  { color:#94a3b8; }                 /* gris */

/* Barras proporcionales en la ficha */
.char-stats-bars {
  margin-top: .25rem;
  display: grid;
  gap: 8px;
}
.char-stat-row {
  display: grid;
  grid-template-columns: 140px 60px 1fr; /* etiqueta | valor | barra */
  gap: 10px;
  align-items: center;
}
.char-stat-row .label { color:#cbd5e1; }
.char-stat-row .val   { text-align:right; font-variant-numeric: tabular-nums; }
.char-stat-row .bar {
  height: 8px;
  background: #0b1220;
  border: 1px solid #283344;
  border-radius: 999px;
  overflow: hidden;
}
.char-stat-row .bar > i {
  display: block;
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #22c55e, #16a34a);
  transition: width .3s ease;
}
/* Home: listado de enlaces descriptivos */
.home-explore .home-links{
  list-style: none;
  padding-left: 0;
  display: grid;
  gap: 6px;
}
.home-explore .home-links a{ text-decoration: underline; }

/* Un pequeño respiro bajo el grid de videos */
#recommended-videos{ margin-bottom: 8px; }

/* --- Distribución dos columnas en sección Explora --- */
.two-column {
  display: flex;
  justify-content: space-between;
  gap: 2rem;
  flex-wrap: wrap;
}

.two-column .left-column {
  flex: 1 1 45%;
}

.two-column .right-column {
  flex: 1 1 45%;
  background-color: rgba(255, 255, 255, 0.03);
  border-left: 2px solid rgba(255, 255, 255, 0.1);
  padding: 1rem;
  border-radius: 10px;
}

.two-column .right-column h3 {
  color: #4fc3f7;
  margin-bottom: 0.5rem;
}

.two-column .right-column p {
  font-size: 0.95rem;
  color: #d6d6d6;
  margin-bottom: 0.8rem;
  line-height: 1.4;
}


/* CALENDAR CAROUSEL */
.cal-box{position:relative;display:flex;align-items:center;justify-content:center;background:#111a2a;border:1px solid #26324a;border-radius:14px;padding:12px;gap:8px}
.cal-figure{margin:0;max-width:100%;width:100%}
#cal-image{display:block;max-width:100%;height:auto;border-radius:12px}
.cal-caption{margin-top:8px;font-weight:600;opacity:.9}
.cal-nav{appearance:none;border:0;border-radius:12px;width:40px;height:40px;line-height:40px;font-size:26px;font-weight:700;background:#283653;color:#fff;cursor:pointer;user-select:none}
.cal-nav:hover{filter:brightness(1.15)}
.cal-prev{position:absolute;left:8px;top:calc(50% - 20px)}
.cal-next{position:absolute;right:8px;top:calc(50% - 20px)}
@media (max-width:700px){.cal-prev,.cal-next{position:static}.cal-box{flex-direction:column}}
.cal-thumbs{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.cal-thumbs button{border:1px solid #2a3754;background:#141d2e;color:#e6edf3;border-radius:8px;padding:6px 10px;cursor:pointer;font-size:12px}
.cal-thumbs button.active{background:#347dff;border-color:#347dff;color:#fff}



/* === Comparador: tarjeta grande con meta a la derecha === */
.compare-panel .compare-slot {
  min-height: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 6px;
}

/* Tarjeta: grid 2 columnas -> [imagen grande | meta] */
.compare-panel .cmp-card{
  display: grid !important;
  grid-template-columns: 220px 1fr;
  gap: 16px;
  align-items: center;
  width: 100%;
  max-width: 680px;
  margin: 0 auto;
  border-radius: 12px;
}

/* Imagen de la carta: ~3:4, grande */
.compare-panel .cmp-avatar{
  width: 220px;
  height: 294px;
  aspect-ratio: 3 / 4;
  object-fit: cover;
  display: block;
  border-radius: 12px;
  border: 1px solid #475569;
  background: #0b1220;
  box-shadow: 0 4px 18px rgba(0,0,0,.25);
}

/* Meta a la derecha */
.compare-panel .cmp-meta{
  display: grid;
  align-content: center;
  gap: 10px;
  font-size: 15px;
  line-height: 1.35;
  min-width: 0;
}
.compare-panel .cmp-name{
  font-weight: 800;
  font-size: 20px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.compare-panel .cmp-tags{ display:flex; flex-wrap:wrap; gap:8px; }
.compare-panel .tag{
  background:#0f172a; border:1px solid #334155; border-radius:10px;
  padding:4px 8px; font-size:12px; color:#cbd5e1;
}

/* Evita desbordes inesperados */
.compare-panel img{ max-width: 100%; height: auto; }

/* Responsive: en móviles reducimos un poco el tamaño */
@media (max-width: 640px){
  .compare-panel .cmp-card{ grid-template-columns: 160px 1fr; gap: 12px; }
  .compare-panel .cmp-avatar{ width: 160px; height: 214px; border-radius: 10px; }
  .compare-panel .cmp-name{ font-size: 18px; }
  .compare-panel .tag{ font-size: 11px; padding: 3px 6px; }
}
/* thumb | meta */
  gap: 10px;
  align-items: center;
  width: 100%;
  max-width: 260px;
  margin: 0 auto;
}

.compare-slot .cmp-avatar{
  width: 88px;
  height: 118px;
  aspect-ratio: 3 / 4;
  object-fit: cover;
  display: block;
  border-radius: 10px;
  border: 1px solid #475569;
  background: #0b1220;
}

.compare-slot .cmp-meta{ font-size: .85rem; }
.compare-slot .cmp-name{
  font-weight: 700;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.compare-slot .cmp-tags{ display:flex; flex-wrap:wrap; gap:6px; }
.compare-slot .tag{
  background:#0f172a; border:1px solid #334155; border-radius:8px;
  padding:2px 6px; font-size:.75rem; color:#cbd5e1;
}
/* prevent giant images anywhere in compare panel */
.compare-panel img{ max-width: 100%; height: auto; }

/* === Announcement Modal === */
#ann-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;z-index:99999;padding:16px}
#ann-modal{width:min(720px,96vw);background:#0b1220;border:1px solid #1e293b;border-radius:14px;box-shadow:0 20px 60px #000b;color:#e5e7eb;max-height:92vh;display:flex;flex-direction:column;position:relative}
#ann-modal .ann-x{position:absolute;right:10px;top:10px;background:#1f2937;border:1px solid #334155;color:#e5e7eb;border-radius:999px;width:32px;height:32px;cursor:pointer}
#ann-modal .pill{display:inline-block;background:#073b4c;border:1px solid #0a5167;color:#9de1ff;border-radius:999px;padding:4px 10px;font-size:.85rem;margin-bottom:6px}
#ann-modal .ann-hd{padding:16px 16px 0}
#ann-modal h2{margin:.2rem 0 .2rem 0}
#ann-modal .ann-date{color:#9fb0c3}
#ann-modal .ann-body{padding:12px 16px 16px;overflow:auto;max-height:60vh}
#ann-modal .ann-ft{display:flex;justify-content:space-between;align-items:center;gap:8px;border-top:1px dashed #203045;padding:12px 16px 16px}
#ann-modal .ann-actions .ann-ok{background:#2563eb;border:1px solid #1d4ed8;color:#fff;border-radius:10px;padding:8px 14px;cursor:pointer}
#ann-modal .ann-chk{color:#cbd5e1;display:flex;align-items:center;gap:8px}

/* === Phase 1: layout Personajes (comparador centrado, sin tocar lógica JS) === */
#tab-characters .characters-layout {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: stretch;
}

/* El comparador se centra y deja de ser sticky en este modo */
#tab-characters .compare-panel {
  position: relative;
  top: auto;
  max-height: none;
  margin: 0 auto 1.5rem;
  width: 100%;
  max-width: 1100px;
}


/* === Comparador: área desplazable para stats + habilidades === */
#tab-characters .compare-panel {
  display: flex;
  flex-direction: column;
}

#compare-scroll.compare-scroll {
  margin-top: 0.75rem;
  padding-right: 4px;
  flex: 1 1 auto;
  overflow-y: auto;
  scrollbar-width: thin;
}

#compare-scroll.compare-scroll::-webkit-scrollbar {
  width: 6px;
}
#compare-scroll.compare-scroll::-webkit-scrollbar-track {
  background: transparent;
}
#compare-scroll.compare-scroll::-webkit-scrollbar-thumb {
  background: #4b5563;
  border-radius: 999px;
}

/* Bloque Habilidades en comparador */
.compare-block.compare-abilities {
  margin-top: 1rem;
}

.compare-abilities-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.cmp-abilities-col {
  background: #0f172a;
  border: 1px solid #1f2937;
  border-radius: 8px;
  padding: 0.75rem;
}

.cmp-slot-title {
  font-weight: 700;
  font-size: 0.9rem;
  margin-bottom: 0.25rem;
  color: #e5e7eb;
}

.cmp-skill-list {
  list-style: none;
  margin: 0.25rem 0 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.cmp-skill-item {
  border-bottom: 1px solid #1f2937;
  padding-bottom: 0.25rem;
}

.cmp-skill-item:last-child {
  border-bottom: none;
}

.cmp-skill-name {
  font-weight: 600;
  font-size: 0.9rem;
}

.cmp-skill-text {
  font-size: 0.8rem;
  color: #cbd5e1;
  margin-top: 0.15rem;
}

/* En móviles, que el comparador pueda crecer normal */
@media (max-width: 900px) {
  #compare-scroll.compare-scroll {
    max-height: none;
  }
}

/* === Fase 2: selector por casilla y modal de personajes === */
.tb-slot-inner{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  padding:8px;
  text-align:center;
}
.tb-slot-empty .banner-meta{
  font-size:.8rem;
}
.tb-slot-actions{
  display:flex;
  gap:6px;
  margin-top:6px;
  flex-wrap:wrap;
  justify-content:center;
}
.tb-slot-name{
  font-weight:600;
  font-size:.85rem;
}
.tb-slot-role{
  font-size:.78rem;
  color:#cbd5e1;
}

.tb-slot-choose,
.tb-slot-clear{
  background:#020617;
  border:1px solid #1f2937;
  border-radius:999px;
  padding:4px 10px;
  font-size:.78rem;
  cursor:pointer;
}
.tb-slot-choose:hover{background:#1f2937}
.tb-slot-clear{opacity:.8}
.tb-slot-clear:hover{opacity:1}

/* Modal selector */
.tb-picker-backdrop{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.65);
  z-index:9999;
}
.tb-picker-backdrop[hidden]{display:none}

.tb-picker-modal{
  width:min(960px,96vw);
  max-height:90vh;
  background:#020617;
  border:1px solid #1f2937;
  border-radius:14px;
  box-shadow:0 24px 80px rgba(0,0,0,.65);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.tb-picker-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  margin-bottom:4px;
}
.tb-picker-header h2{
  font-size:1.1rem;
  margin:0;
}
.tb-picker-close{
  background:#111827;
  border:1px solid #334155;
  border-radius:999px;
  width:32px;
  height:32px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  line-height:1;
  cursor:pointer;
}

.tb-picker-filters{
  display:grid;
  grid-template-columns:2fr 1fr 1fr 1fr;
  gap:8px;
  margin-bottom:4px;
}
@media (max-width:800px){
  .tb-picker-filters{grid-template-columns:1fr 1fr}
}
@media (max-width:520px){
  .tb-picker-filters{grid-template-columns:1fr}
}

.tb-picker-list{
  flex:1 1 auto;
  overflow:auto;
  border-radius:10px;
  border:1px solid #1f2937;
  padding:8px;
  background:#020617;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(190px,1fr));
  gap:8px;
}

.tb-picker-item{
  display:flex;
  gap:8px;
  padding:6px;
  border-radius:10px;
  border:1px solid #1f2937;
  background:#020617;
}
.tb-picker-item img{
  width:60px;
  height:80px;
  aspect-ratio:3/4;
  object-fit:cover;
  border-radius:8px;
  border:1px solid #1f2937;
  background:#020617;
}
.tb-picker-meta{
  display:flex;
  flex-direction:column;
  gap:4px;
  font-size:.8rem;
}
.tb-picker-name{
  font-weight:600;
  font-size:.88rem;
}
.tb-picker-tags{
  display:flex;
  flex-wrap:wrap;
  gap:4px;
}
.tb-picker-tags .chip{
  font-size:.72rem;
  padding:2px 6px;
}

.tb-picker-select{
  align-self:flex-start;
  margin-top:4px;
  font-size:.78rem;
  padding:4px 10px;
}

/* ====== Team Builder – Bonos de alineación ====== */
.tb-bonus-side{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.tb-bonus-list{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top:8px;
}

.tb-bonus-line{
  border:1px solid #1f3c52;
  border-radius:10px;
  padding:8px 10px;
  background:#071725;
  font-size:.8rem;
  display:flex;
  flex-direction:column;
  gap:4px;
}

.tb-bonus-line header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  font-weight:600;
}

.tb-bonus-title{
  font-size:.8rem;
}

.tb-bonus-count{
  font-size:.76rem;
  opacity:.85;
}

.tb-bonus-body{
  font-size:.78rem;
}

.tb-bonus-desc{
  margin:2px 0 4px;
  color:var(--muted);
}

.tb-bonus-status{
  padding:4px 6px;
  border-radius:6px;
  border:1px dashed #1f3c52;
}

.tb-bonus-status.active{
  border-style:solid;
  border-color:#22c55e;
  background:rgba(34,197,94,.08);
  color:#bbf7d0;
}

.tb-bonus-status.pending{
  border-style:dashed;
  border-color:#334155;
  background:rgba(15,23,42,.8);
}

.tb-bonus-line.is-active{
  border-color:#22c55e;
  box-shadow:0 0 0 1px rgba(34,197,94,.25);
}
/* === Home Hero: Bienvenida + panel Ko-Fi / Discord === */

.home-hero {
  display: flex;
  gap: 1.75rem;
  align-items: stretch;
  flex-wrap: wrap;
}

.home-hero-main {
  flex: 2 1 320px;
}

/* Panel derecho */
.home-hero-support {
  flex: 1 1 260px;
  background: rgba(15, 23, 42, 0.9);
  border-radius: 12px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  padding: 0.9rem 1rem 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.home-hero-support h3 {
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.support-illustration {
  width: 120px;
  max-width: 100%;
  height: auto;
  margin: 0.25rem 0 0.6rem;
  image-rendering: auto;
}

.support-text {
  font-size: 0.9rem;
  color: var(--muted);
  margin: 0 0 0.75rem;
}

.support-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  justify-content: center;
}

/* Botones Ko-Fi / Discord (iconos redondos) */

.support-icon-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.35rem 0.45rem;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.95);
  border: 1px solid rgba(148, 163, 184, 0.7);
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.45);
  text-decoration: none;
  cursor: pointer;
  transition:
    transform 0.12s ease,
    box-shadow 0.15s ease,
    border-color 0.15s ease;
}

.support-icon-link:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
  border-color: #e5e7eb;
}

.support-icon {
  height: 22px;
  width: auto;
  display: block;
}

/* Toque de color de marca en el borde */
.support-icon-kofi {
  border-color: #ff5f5f;
}

.support-icon-discord {
  border-color: #5865f2;
}


/* Responsive: en móvil se apila todo y el panel se centra */
@media (max-width: 900px) {
  .home-hero {
    flex-direction: column;
  }

  .home-hero-support {
    max-width: 420px;
    margin: 0 auto;
  }
}
/* === Mini reproductor YouTube flotante === */

.yt-mini-player {
  position: fixed;
  right: 16px;
  bottom: 16px;
  width: 320px;
  max-width: 90vw;
  z-index: 9998;
  background: rgba(15, 23, 42, 0.98);
  border-radius: 12px;
  border: 1px solid #334155;
  box-shadow: 0 18px 45px rgba(0, 0, 0, .7);
  padding: 10px 10px 12px;
  opacity: 0;
  transform: translateY(12px);
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}

.yt-mini-player.is-visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.yt-mini-frame {
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid #1f2937;
}

.yt-mini-frame iframe {
  display: block;
  width: 100%;
  aspect-ratio: 16 / 9;
  height: auto;
}

.yt-mini-caption {
  margin: 6px 0 0;
  font-size: .8rem;
  color: var(--muted);
}

/* Botón de cerrar del mini-player */
.yt-mini-close {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 24px;
  height: 24px;
  border-radius: 999px;
  border: 1px solid #475569;
  background: #020617;
  color: #e5e7eb;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Ajustes en móvil */
@media (max-width: 640px) {
  .yt-mini-player {
    left: 8px;
    right: 8px;
    bottom: 8px;
    width: auto;
  }
}
